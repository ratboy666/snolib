<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type"
      content="text/html; charset=UTF-8">
<meta name="description"
      content="sweave generated">
</head><body><font face="Sorts Mill Goudy">
<p align="justify"><font face="Sorts Mill Goudy">
<h1>GOTOS - Keep the last 10 or so gotos of a program</h1>
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
The following trace function will give the last 10 or so gotos of a
SNOBOL4 program before it ends. This history is kept in the form of
a string so that it will get dumped if execution ends abnormally.
You can also send all error conditions to the statement:
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
</font></p><pre><font face="Source Code Pro">
|     ERROR OUTPUT = GOTOS_QUEUE
</font></pre>
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
The string <font face="Source Code Pro">GOTOS_QUEUE</font> will have entries in the form:
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
</font></p><pre><font face="Source Code Pro">
|     F1>T1;F2>T2;...
</font></pre>
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
where entries are delimited by the semicolon.  <font face="Source Code Pro">FN</font> is the 'from'
statement where a goto was made to the 'to' statement, <font face="Source Code Pro">TN</font>. The most
recent goto is at the beginning of the string, and ages to the right.
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
From a note in the Dec., 1975 newsletter of SIGPLAN from Gideon Yuval,
Computer Science Dept., Hebrew University, Jerusalem, Israel.
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
Â© Copyright 1985 - Catspaw, Incorporated
</font></p>
<p align="justify"><font face="Sorts Mill Goudy">
<h2>Uses</h2>
</font></p>
<div style="background-image: url(greenbar.gif)">
<pre><font face="Source Code Pro">
<b>&laquo;INCLUDES&raquo;&equiv;</b>
<b>@</b>
</font></pre></div>
<div style="background-image: url(greenbar.gif)">
<pre><font face="Source Code Pro">
<b>&laquo;GOTOS&raquo;&equiv;</b>
-MODULE GOTOS
-PUBLIC GOTOS_()
         DEFINE(&#39;GOTOS_()&#39;)
         GOTOS_LENGTH = 119
         GOTOS_QUEUE = DUPL(&#39;.&#39;, GOTOS_LENGTH)
         GOTOS_PAT = POS(0) LEN(GOTOS_LENGTH) . GOTOS_QUEUE
         TRACE(&#39;STCOUNT&#39;, &#39;KEYWORD&#39;,, &#39;GOTOS_&#39;)
         &amp;TRACE = 999999999
         &amp;DUMP = 1                                          <b>:(GOTOS_END)</b>
<font color="#818181"><i>*</i></font>
GOTOS_   GOTOS_NO = &amp;LASTNO
         EQ(GOTOS_LAST, GOTOS_NO)                             <b>:S(RETURN)</b>
         GOTOS_LAST = EQ(GOTOS_NO, GOTOS_LAST + 1) GOTOS_NO   <b>:S(RETURN)</b>
         (GOTOS_LAST &#39;&gt;&#39; GOTOS_NO &#39;;&#39; GOTOS_QUEUE) ? GOTOS_PAT
         GOTOS_LAST = GOTOS_NO                                 <b>:(RETURN)</b>
<font color="#818181"><i>*</i></font>
GOTOS_END
<b>@</b>
</font></pre></div>
<div style="background-image: url(greenbar.gif)">
<pre><font face="Source Code Pro">
<b>&laquo;unit_test&raquo;&equiv;</b>
<font color="#818181"><i>#!/usr/bin/bash</i></font>
         exec &quot;snobol4&quot; &quot;-b&quot; &quot;$0&quot; &quot;$@&quot;
-INCLUDE &#39;GOTOS.INC&#39;
         &amp;CODE = 1
         &amp;CODE = 0
END
<b>@</b>
</font></pre></div>
<div style="background-image: url(greenbar.gif)">
<pre><font face="Source Code Pro">
<b>&laquo;&raquo;&equiv;</b>
-STITL GOTOS
-EJECT
<font color="#818181"><i>*</i></font>
<font color="#818181"><i>************************************************************************</i></font>
<font color="#818181"><i>*                                                                      *</i></font>
<font color="#818181"><i>*              #####   #######  #######  #######   #####               *</i></font>
<font color="#818181"><i>*             #     #  #     #     #     #     #  #     #              *</i></font>
<font color="#818181"><i>*             #        #     #     #     #     #  #                    *</i></font>
<font color="#818181"><i>*             #  ####  #     #     #     #     #   #####               *</i></font>
<font color="#818181"><i>*             #     #  #     #     #     #     #        #              *</i></font>
<font color="#818181"><i>*             #     #  #     #     #     #     #  #     #              *</i></font>
<font color="#818181"><i>*              #####   #######     #     #######   #####               *</i></font>
<font color="#818181"><i>*                                                                      *</i></font>
<font color="#818181"><i>* GOTOS        KEEP THE LAST 10 OR SO GOTOS OF A PROGRAM               *</i></font>
<font color="#818181"><i>*                                                                      *</i></font>
<font color="#818181"><i>************************************************************************</i></font>
<font color="#818181"><i>*</i></font>
<font color="#818181"><i>* GOTOS.lss</i></font>
<font color="#818181"><i>*</i></font>
<b>&laquo;GOTOS&raquo;</b>
<font color="#818181"><i>*</i></font>
<font color="#818181"><i>* CE: .MSNOBOL4;</i></font>
<b>@</b>
</font></pre></div>
<footer><hr><table width="100%" border="0">
<tr><td><p align=left>
Produced by <code>sweave</code>
</p></td><td><p align=center>
Thu Jun  5 13:34:29 EDT 2014</p></td><td><p align=right>
Return to <a href="index.html">index</a>
</p></td></table></footer>
</font></body></html>
